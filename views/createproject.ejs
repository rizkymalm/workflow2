<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Request</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="<%= baseurl() %>plugin/fileinput/component.css">
    <link rel="stylesheet" href="<%= baseurl() %>plugin/fileinput/normalize.css">
    <%- include ('./partials/header') %>
</head>
<body>
    <div class="wrapper">
        <div class="lSide">
            <%- include ('./partials/sidebar') %>
        </div>
        <div class="rSide">
            <div class="head gradientr">
            </div>
            <div class="mainbox column">
                <div class="cols-12 containt">
                    <div class="headtitle trans">
                        <p class="nopad size-head4" style="padding: 5px 15px; position: relative;">
                            Create Project
                        </p>
                        <ul class="tab-image-setting nopad">
                            <li><img src="<%= baseurl() %>images/icon/arrow-up.png" class="btn-tab-toggle delay" href="assigntome"></li>
                        </ul>
                    </div>
                    <div class="cols-12" style="padding: 35px 0;">
                        <form action="<%= baseurl() %>project/save" method="POST" id="validate-frm" enctype="multipart/form-data">
                        <table style="width: 100%;" cellpadding="8" cellspacing="8" class="size-std">
                            <tr>
                                <td style="text-align: right; width: 30%;">ID Project</td>
                                <td><input type="text" name="idprj" placeholder="id project" class="frm-std" required=""></td>
                            </tr>
                            <tr>
                                <td style="text-align: right; width: 30%;">Project Name</td>
                                <td><input type="text" name="project" placeholder="subject" class="frm-std" required=""></td>
                            </tr>
                            <tr>
                                <td style="text-align: right; width: 30%;">Client</td>
                                <td style="vertical-align: middle; align-items: center;">
                                    <select name="client" id="client" onchange="addnewclient()">
                                        <option value="0">-- Select Client --</option>
                                        <% for(let client of cli){ %>
                                        <option value="<%= client.id_client %>"><%= client.client_name %></option>
                                        <% } %>
                                        <option value="new">Others ______</option>
                                    </select>
                                </td>
                            </tr>
                            <tr style="display: none;" id="newclient">
                                <td style="text-align: right; width: 30%;">New Client</td>
                                <td><input type="text" name="newclient" placeholder="New Client" class="frm-std"></td>
                            </tr>
                            <tr>
                                <td style="text-align: right; width: 30%;" class="frm-std">Description</td>
                                <td><textarea name="desc"></textarea></td>
                            </tr>
                            <tr>
                                <td style="text-align: right; width: 30%;">Attachment</td>
                                <td>
                                    <input type="file" name="fileupload" id="file-1" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" multiple style="display:none;" />
                                    <label for="file-1"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> 
                                    <span style="margin-top:5px;" class="size-std">Choose a file&hellip;</span></label>
                                </td>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: right; width: 30%;">Due date</td>
                                <td><input type="date" name="duedate" min="<%= min_date %>"></td>
                            </tr>
                            <tr>
                                <td colspan="2" style="text-align: center;"><input type="submit" value="Save" class="myButton-submit"></td>
                            </tr>
                        </table>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<%- include ('./partials/footer') %>
<link rel="stylesheet" href="<%= baseurl() %>plugin/fileinput/custom-file-input.js">
<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.min.js"></script>
<script type="text/javascript" src="js/validateForm.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    $("#req_tab").on('click','.delete',function(){
        var id_req = $(this).data("id");
        $('.popup').show();
        $('.blur').show();
        $('.req_id').val(id_req);
    })
})
function addnewclient(){
    var type = $('#client').val()
    $('#newclient').hide()
    if(type=="new"){
        $('#newclient').show()
    }
}
</script>
</html>